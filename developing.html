<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PXF by Pivotal-Field-Engineering</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>PXF</h1>
        <p>Prototype PXF extensions for HAWQ</p>

        <p class="view"><a href="https://github.com/Pivotal-Field-Engineering/pxf-field">View the Project on GitHub <small>Pivotal-Field-Engineering/pxf-field</small></a></p>


        <ul>
          <li><a href="https://github.com/Pivotal-Field-Engineering/pxf-field/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/Pivotal-Field-Engineering/pxf-field/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/Pivotal-Field-Engineering/pxf-field">View On <strong>GitHub</strong></a></li>
        </ul>
		<br/><br/>
        <p><a href="index.html">Home</a></p>
      </header>
      <section>
        

		
<h2>Developing and Testing Extensions</h2>
<h3>Developing an Extension</h3>

<p>There are three key classes one must develop to create a proper extension, and an optional but suggested class for better performance.</p>

<p><b>Fragmenter</b></p>

<p>The Fragmenter is responsible for passing datasource metadata back to HAWQ where it returns fragments of information. A fragment contains the file name and the hosts name where it is located.  Examples include HdfsDataFragmenter, HBaseDataFragmenter, and HiveDataFragmenter.  The class needs to implement the Fragmenter abstract class.</p>

<p><b>Accessor</b></p>

<p>The Accessor retrieves specific fragments and passes records back to the Resolver. For example, the accessor creates a FileInputFormat and a Record Reader for an HDFS file and sends this to the Resolver.  Examples include HdfsSplittableDataAccessor, SplittableFileAccessor base class, and TextFileAccessor.  The class needs to implement the Accessor abstract class.</p>

<p><b>Resolver</b></p>

<p>The Resolver deserializes records and serializes them to a list of OneField objects. PXF converts a OneField object to a GPDBWritable format read by HAWQ. Examples include TextResolver, WritableResolver, AvroResolver, HBaseResolver, and HiveResolver.  The class needs to implement the Resolver abstract class.</p>

<p><b>Analyzer</b></p>

<p>The Analyzer provides PXF statistical data for the HAWQ query optimizer. For detailed explanation on HAWQ statistical data gathering, see “ANALYZE” on page 48 of the HAWQ Admin Guide.  An example is the HdfsAnalyzer.  The class needs to implement the Analyzer abstract class.</p>

<p>More info is found in the HAWQ Admin Guide.</p>

<h3>Testing Extensions</h3>

<p>Why not <code><a href="doc/index.html">PxfUnit</a></code>?</p>


      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/Pivotal-Field-Engineering">Pivotal-Field-Engineering</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>